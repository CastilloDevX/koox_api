<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ko'ox API</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Prompt:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
    rel="stylesheet" />

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />
  <!-- Custom CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>
  <!-- Navigation Bar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-koox shadow-sm">
    <div class="container">
      <a class="navbar-brand fw-bold" href="#">Ko'ox API</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="#about">Descripci√≥n</a></li>
          <li class="nav-item"><a class="nav-link" href="#endpoints">Endpoints</a></li>
          <li class="nav-item"><a class="nav-link" href="#notes">Notas</a></li>
          <li class="nav-item"><a class="nav-link" href="#contact">Contacto</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <header class="hero text-center">
    <img class="img-fluid w-100" src="https://campeche.gob.mx/wp-content/uploads/informes/baner-koox-02.svg"
      alt="Banner Ko'ox" />
  </header>

  <!-- Main Content -->
  <main class="container">
    <!-- About Section -->
    <section id="about">
      <h1 class="display-4 fw-bold mb-2 text-koox">Ko'ox API (Open source)</h1>

      <p class="fst-italic">
        Nuevo transporte p√∫blico de Campeche - consulta, administra y explora las paradas y rutas.
      </p>

      <!-- Warning Message -->
      <div class="alert alert-warning" role="alert">
        <p class="fw-bold">¬°Advertencia!</p>
        <strong>Esta API NO ES OFICIAL y NO TIENE NINGUNA RELACI√ìN con el gobierno de Campeche.</strong> Es un proyecto
        experimental en fase BETA, y est√° sujeto a errores imprevistos o a la informaci√≥n no precisa. Por lo tanto, el
        creador de esta API, Jose Manuel Castillo Queh, no se hace responsable de problemas gubernamentales ni de ning√∫n
        otro inconveniente. ¬°Uso bajo su propio riesgo!
      </div>

      <!-- SECCI√ìN UNIFICADA: WEB + APK -->
      <section class="py-5 bg-light border-bottom" id="live-version">
        <div class="container text-center">
          <div class="p-4 rounded-4 shadow-sm" style="background: white;">
            <h2 class="fw-bold text-koox mb-3" style="font-size: 2rem;">
              Primera herramienta del KO'OX liberada
            </h2>

            <p class="lead mb-4">
              Explora la web o descarga la aplicaci√≥n m√≥vil
            </p>

            <p class="mb-4 fw-bold fs-3">
              V1.0.0 (Beta)
            </p>
            <!-- Botones lado a lado -->
            <div class="d-flex justify-content-center gap-3 flex-wrap">

              <!-- BOT√ìN WEB -->
              <a href="http://kooxweb.vercel.app/" target="_blank" class="btn btn-primary btn-lg px-4 py-3 shadow-sm"
                style="border-radius: 12px;">
                üåê Ir al Sitio Oficial
              </a>

              <!-- BOT√ìN APK -->
              <a href="{{ url_for('static', filename='apk/koox_app_v1_0_0.apk') }}" download
                class="btn btn-success btn-lg px-4 py-3 shadow-sm" style="border-radius: 12px;">
                üì± Descargar APK
              </a>

            </div>

            <p class="mt-3 text-muted">
              La app est√° en fase beta. Disponible solo para Android.
            </p>
          </div>
        </div>
      </section>

      <h2 class="section-title">Descripci√≥n del Proyecto</h2>
      <p>
        Ko'ox API es una soluci√≥n innovadora y de c√≥digo abierto desarrollada con <strong>Flask</strong> para
        gestionar las paradas de transporte p√∫blico de la ciudad de Campeche. Esta API permite consultar y administrar
        las paradas y rutas de los autobuses de Ko'ox de forma sencilla y accesible, proporcionando datos como la
        ubicaci√≥n de las paradas, las rutas asociadas y la posibilidad de encontrar la parada m√°s cercana a una
        ubicaci√≥n geogr√°fica espec√≠fica.
      </p>

      <h2 class="section-title">Contexto y Origen del Proyecto</h2>
      <p>
        Este proyecto naci√≥ como una propuesta para contribuir al bienestar y desarrollo de la comunidad de Campeche.
        Como usuario habitual del transporte p√∫blico, me di cuenta de la problem√°tica relacionada con las paradas de
        Ko'ox, as√≠ como la dispersi√≥n y falta de accesibilidad de la informaci√≥n en internet.
      </p>
      <p>
        Fue entonces cuando decid√≠, <span class="fw-bold">Jose Manuel Castillo Queh</span>, de 20 a√±os, emprender el
        desarrollo de una soluci√≥n que pudiera ser aprovechada por la comunidad: una API que centralice la informaci√≥n
        sobre las paradas de Ko'ox. Este trabajo es el resultado de un esfuerzo de investigaci√≥n, durante el cual logr√©
        recopilar datos dispersos y no expuestos de diversas fuentes disponibles en internet. La tarea no fue f√°cil,
        pero con dedicaci√≥n y esfuerzo, cre√© una base de datos que sirve de apoyo para esta soluci√≥n.
      </p>
      <p>
        El prop√≥sito principal de la <span class="fw-bold">Ko'ox API</span> es empoderar a la sociedad campechana,
        proporcionando un recurso accesible y confiable para consultar la informaci√≥n sobre las paradas y rutas del
        transporte p√∫blico. Esta API busca que cualquier persona pueda beneficiarse de ella para facilitar su vida
        diaria al momento de usar el servicio de Ko'ox.
      </p>
      <p>
        Adem√°s, en el futuro cercano, estamos trabajando en el desarrollo de una aplicaci√≥n m√≥vil basada en esta API,
        que se podr√° descargar de manera gratuita como un archivo APK, sin ning√∫n riesgo ni costo. Esta aplicaci√≥n
        permitir√° a los usuarios acceder a la informaci√≥n de manera m√°s c√≥moda y sencilla desde sus tel√©fonos, mejorando
        a√∫n m√°s la experiencia del usuario.
      </p>
      <p>
        Este proyecto tiene un fuerte componente social, ya que la finalidad es mejorar la calidad de vida de los
        habitantes de Campeche, fomentar el uso del transporte p√∫blico y mantenerlos informados sobre las
        actualizaciones impulsadas por el gobierno de <span class="fw-bold">Layda Sansores San Rom√°n</span>, presidenta
        de Campeche.
      </p>
    </section>

    <!-- Endpoints Section -->
    <section id="endpoints">
      <h2 class="section-title">Endpoints</h2>
      <div class="accordion" id="endpointsAccordion">
        <!-- GET /paradas -->
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingOne">
            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne"
              aria-expanded="true" aria-controls="collapseOne">
              <span class="badge bg-primary me-2">GET</span>Obtener todas las paradas <code>/paradas</code>
            </button>
          </h2>
          <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne"
            data-bs-parent="#endpointsAccordion">
            <div class="accordion-body">
              <p>Devuelve la lista completa de paradas.</p>
              <pre><code>GET /paradas</code></pre>
              <p><strong>Respuesta exitosa (fragmento):</strong></p>
              <pre><code>{
  "ok": true,
  "body": [
    {
      "id": 1,
      "stop_name": "Alameda",
      "latitude": 19.841517,
      "longitude": -90.534564,
      "routes": [
        "Koox 01 Troncal Eje Principal",
        "Koox 27 Troncal Eje Central",
        "Koox 28 Troncal Eje Oriente",
        "Koox 29 Troncal Eje Norte"
      ]
    },
    {
      "id": 2,
      "stop_name": "Chihuahua",
      "latitude": 19.843134,
      "longitude": -90.530806,
      "routes": [
        "Koox 01 Troncal Eje Principal",
        "Koox 15 Jardines",
        "Koox 16 Polvor√≠n - Paso de las √Åguilas",
        "Koox 18 San Francisco",
        "Koox 28 Troncal Eje Oriente",
        "Koox 29 Troncal Eje Norte"
      ]
    },
    ‚Ä¶
  ]
}</code></pre>
              <p>La respuesta contiene un arreglo con todas las paradas disponibles. Se han omitido el resto de
                elementos
                para mayor claridad.</p>
            </div>
          </div>
        </div>

        <!-- GET /paradas/<id> -->
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingTwo">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
              data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
              <span class="badge bg-primary me-2">GET</span>Obtener una parada espec√≠fica
              <code>/paradas/&lt;id&gt;</code>
            </button>
          </h2>
          <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
            data-bs-parent="#endpointsAccordion">
            <div class="accordion-body">
              <p>Devuelve los detalles de una parada espec√≠fica por su ID.</p>
              <pre><code>GET /paradas/9</code></pre>
              <p><strong>Respuesta exitosa:</strong></p>
              <pre><code>{
  "ok": true,
  "body": {
    "id": 9,
    "stop_name": "Calle 105-A",
    "latitude": 19.842192,
    "longitude": -90.508463,
    "routes": [
      "Koox 01 Troncal Eje Principal",
      "Koox 06 Amp. Bellavista - Revoluci√≥n Circ. 1",
      "Koox 08 Carmelo-Esperanza"
    ]
  }
}</code></pre>
            </div>
          </div>
        </div>

        <!-- GET /paradas/bus/<name> -->
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingThree">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
              data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
              <span class="badge bg-primary me-2">GET</span>Buscar paradas por ruta
              <code>/paradas/bus/&lt;name&gt;</code>
            </button>
          </h2>
          <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree"
            data-bs-parent="#endpointsAccordion">
            <div class="accordion-body">
              <p>Devuelve las paradas asociadas al nombre de una ruta (b√∫squeda sin distinguir may√∫sculas/min√∫sculas).
              </p>
              <pre><code>GET /paradas/bus/Jardines</code></pre>
              <p><strong>Respuesta exitosa (primeros resultados):</strong></p>
              <pre><code>{
  "ok": true,
  "body": [
    {
      "id": 2,
      "stop_name": "Chihuahua",
      "latitude": 19.843134,
      "longitude": -90.530806,
      "routes": [
        "Koox 01 Troncal Eje Principal",
        "Koox 15 Jardines",
        "Koox 16 Polvor√≠n - Paso de las √Åguilas",
        "Koox 18 San Francisco",
        "Koox 28 Troncal Eje Oriente",
        "Koox 29 Troncal Eje Norte"
      ]
    },
    {
      "id": 3,
      "stop_name": "Terminal Segunda Sur",
      "latitude": 19.843159,
      "longitude": -90.527426,
      "routes": [
        "KO'OX 17 Leovigildo G√≥mez - Solidaridad Urbana",
        "Koox 01 Troncal Eje Principal",
        "Koox 15 Jardines",
        "Koox 16 Polvor√≠n - Paso de las √Åguilas"
      ]
    },
    {
      "id": 18,
      "stop_name": "Brasil",
      "latitude": 19.843368,
      "longitude": -90.527729,
      "routes": [
        "KO'OX 17 Leovigildo G√≥mez - Solidaridad Urbana",
        "Koox 01 Troncal Eje Principal",
        "Koox 15 Jardines",
        "Koox 16 Polvor√≠n - Paso de las √Åguilas"
      ]
    },
    {
      "id": 19,
      "stop_name": "Circuito Baluartes",
      "latitude": 19.843275,
      "longitude": -90.531607,
      "routes": [
        "Koox 01 Troncal Eje Principal",
        "Koox 15 Jardines",
        "Koox 16 Polvor√≠n - Paso de las √Åguilas",
        "Koox 18 San Francisco",
        "Koox 28 Troncal Eje Oriente",
        "Koox 29 Troncal Eje Norte"
      ]
    }
    ‚Ä¶
  ]
}</code></pre>
              <p>La respuesta completa incluye todas las paradas de la ruta indicada. Aqu√≠ se muestran s√≥lo los primeros
                elementos.</p>
            </div>
          </div>
        </div>

        <!-- GET /paradas/cercana -->
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingFour">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
              data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
              <span class="badge bg-primary me-2">GET</span>Encontrar la parada m√°s cercana
              <code>/paradas/cercana</code>
            </button>
          </h2>
          <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour"
            data-bs-parent="#endpointsAccordion">
            <div class="accordion-body">
              <p>Encuentra la parada m√°s cercana a una ubicaci√≥n geogr√°fica espec√≠fica utilizando la f√≥rmula de
                Haversine.</p>
              <pre><code>GET /paradas/cercana?latitude=18.6470&longitude=-91.8240</code></pre>
              <p><strong>Respuesta exitosa:</strong></p>
              <pre><code>{
  "ok": true,
  "body": {
    "id": 437,
    "stop_name": "Hospital",
    "latitude": 19.789902,
    "longitude": -90.619589,
    "routes": [
      "Koox 22 Lerma - Tec",
      "Koox 23 Kila - Mara√±√≥n"
    ]
  },
  "distance_km": 179.28
}</code></pre>
              <p>El par√°metro <code>latitude</code> y <code>longitude</code> deben enviarse como n√∫meros flotantes.
                La respuesta incluye la parada encontrada y la distancia en kil√≥metros a la ubicaci√≥n solicitada.</p>
            </div>
          </div>
        </div>

        <!-- GET /instrucciones -->
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingFive">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
              data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
              <span class="badge bg-primary me-2">GET</span>Obtener instrucciones de viaje
              <code>/instrucciones</code>
            </button>
          </h2>
          <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive"
            data-bs-parent="#endpointsAccordion">
            <div class="accordion-body">
              <p>Devuelve las instrucciones √≥ptimas (por n√∫mero de autobuses) para ir de un punto de inicio a un punto
                destino. Se utiliza el algoritmo A* con penalizaci√≥n por cambio de autob√∫s.</p>
              <pre><code>GET /instrucciones?inicio=19.830211,-90.515757&amp;destino=19.842192,-90.508463</code></pre>
              <p><strong>Respuesta exitosa:</strong></p>
              <pre><code>{
  "ok": true,
  "start_stop": {
    "id": 297,
    "stop_name": "Nochebuena",
    "latitude": 19.830211,
    "longitude": -90.515757,
    "routes": ["Koox 15 Jardines"]
  },
  "end_stop": {
    "id": 9,
    "stop_name": "Calle 105-A",
    "latitude": 19.842192,
    "longitude": -90.508463,
    "routes": [
      "Koox 01 Troncal Eje Principal",
      "Koox 06 Amp. Bellavista - Revoluci√≥n Circ. 1",
      "Koox 08 Carmelo-Esperanza"
    ]
  },
  "start_distance_km": 0.0,
  "end_distance_km": 0.0,
  "num_buses": 2,
  "instructions": [
    {
      "bus": "Koox 15 Jardines",
      "from_stop": {
        "id": 297,
        "stop_name": "Nochebuena",
        "latitude": 19.830211,
        "longitude": -90.515757,
        "routes": ["Koox 15 Jardines"]
      },
      "to_stop": {
        "id": 3,
        "stop_name": "Terminal Segunda Sur",
        "latitude": 19.843159,
        "longitude": -90.527426,
        "routes": [
          "KO'OX 17 Leovigildo G√≥mez - Solidaridad Urbana",
          "Koox 01 Troncal Eje Principal",
          "Koox 15 Jardines",
          "Koox 16 Polvor√≠n - Paso de las √Åguilas"
        ]
      }
    },
    {
      "bus": "Koox 01 Troncal Eje Principal",
      "from_stop": {
        "id": 3,
        "stop_name": "Terminal Segunda Sur",
        "latitude": 19.843159,
        "longitude": -90.527426,
        "routes": [
          "KO'OX 17 Leovigildo G√≥mez - Solidaridad Urbana",
          "Koox 01 Troncal Eje Principal",
          "Koox 15 Jardines",
          "Koox 16 Polvor√≠n - Paso de las √Åguilas"
        ]
      },
      "to_stop": {
        "id": 9,
        "stop_name": "Calle 105-A",
        "latitude": 19.842192,
        "longitude": -90.508463,
        "routes": [
          "Koox 01 Troncal Eje Principal",
          "Koox 06 Amp. Bellavista - Revoluci√≥n Circ. 1",
          "Koox 08 Carmelo-Esperanza"
        ]
      }
    }
  ]
}</code></pre>
              <p>Cada segmento indica el autob√∫s a tomar y las paradas de inicio y fin de ese segmento. El algoritmo
                busca minimizar los cambios de autob√∫s.</p>
            </div>
          </div>
        </div>

      </div> <!-- End of accordion -->
    </section>

    <!-- Notes Section -->
    <section id="notes">
      <h2 class="section-title">Notas Importantes</h2>
      <ul>
        <li>La API permite listar todas las paradas, consultar una parada por ID, buscar paradas por nombre de ruta y
          calcular la parada m√°s cercana a unas coordenadas dadas.</li>
        <li>Se incluye un endpoint para obtener instrucciones de viaje entre dos puntos, minimizando los cambios de
          autob√∫s.</li>
        <li>Las b√∫squedas de rutas en <code>/paradas/bus/&lt;name&gt;</code> no distinguen may√∫sculas y min√∫sculas.</li>
        <li>Los datos se almacenan en memoria durante la ejecuci√≥n del servidor; cualquier modificaci√≥n no se
          persiste en el archivo JSON original.</li>
        <li>La distancia se calcula en kil√≥metros utilizando la f√≥rmula de Haversine.</li>
        <li><strong>Importante:</strong> Este proyecto est√° en fase de desarrollo. Los datos pueden no ser 100¬†%
          precisos
          y est√°n sujetos a cambios.</li>
      </ul>
    </section>

    <!-- Contact Section -->
    <section id="contact">
      <h2 class="section-title">Sobre el Desarrollo</h2>
      <p>
        Este proyecto fue desarrollado por <strong>Jose Manuel Castillo Queh</strong>, de 20 a√±os, como una aportaci√≥n
        significativa para la sociedad de Campeche. A trav√©s de un trabajo de investigaci√≥n profunda y dedicada sobre la
        problem√°tica de las paradas de Ko'ox y su dispersi√≥n por internet, logr√© crear esta API, que ahora facilita el
        acceso a la informaci√≥n centralizada de las paradas y rutas del sistema de transporte p√∫blico.
      </p>
      <p>
        La Ko'ox API fue desarrollada con el objetivo de proporcionar una soluci√≥n accesible y √∫til para los
        campechanos, al mismo tiempo que fomenta el uso del transporte p√∫blico y contribuye a la mejora de la movilidad
        en la ciudad. Adem√°s, estamos trabajando en una aplicaci√≥n m√≥vil que estar√° disponible en breve como un archivo
        APK, para que los usuarios puedan aprovechar a√∫n m√°s esta API desde sus dispositivos.
      </p>
      <p>
        Este proyecto fue inspirado por mi deseo personal de ayudar a la comunidad de Campeche a tener acceso a la
        informaci√≥n de manera r√°pida, sencilla y efectiva. Con el apoyo de este proyecto, espero que m√°s personas puedan
        sumarse al impulso de la modernizaci√≥n y desarrollo de Campeche.
      </p>

      <p>
        Creador: <a href="https://github.com/CastilloDevX" target="_blank"><strong>Jose Manuel Castillo
            Queh</strong></a>
      </p>
      <p>
        Correo: <a href="mailto:castilloquehjosema@gmail.com">castilloquehjosema@gmail.com</a>
      </p>
    </section>
  </main>

  <!-- Footer -->
  <footer class="text-center">
    <div class="container">
      <a href="https://campeche.gob.mx/koox/" target="_blank">
        <img class="img-fluid w-50" src="https://campeche.gob.mx/wp-content/uploads/informes/Logo.png"
          alt="Logo Ko'ox" />
      </a>
      <p class="fw-bold mb-0">&copy; {{ year }} Ko'ox API. Todos los derechos reservados.</p>
    </div>
  </footer>

  <!-- Bootstrap JS Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>