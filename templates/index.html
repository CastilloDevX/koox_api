<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ko'ox API</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Prompt:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  </head>
  <body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-koox shadow-sm">
      <div class="container">
        <a class="navbar-brand fw-bold" href="#">Ko'ox API</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item"><a class="nav-link" href="#about">Descripción</a></li>
            <li class="nav-item"><a class="nav-link" href="#endpoints">Endpoints</a></li>
            <li class="nav-item"><a class="nav-link" href="#notes">Notas</a></li>
            <li class="nav-item"><a class="nav-link" href="#contact">Contacto</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Hero Section -->
    <header class="hero text-center">
      <img
        class="img-fluid w-100"
        src="https://campeche.gob.mx/wp-content/uploads/informes/baner-koox-02.svg"
        alt="Banner Ko'ox"
      />
    </header>

    <!-- Main Content -->
    <main class="container">
      <section id="about">
        <h1 class="display-4 fw-bold mb-2 text-koox">Ko'ox API (Open source)</h1>
        
        <p class="fst-italic">
          Nuevo transporte público de Campeche - consulta, administra y explora las paradas y rutas.
        </p>

        <!-- Warning Message -->
        <div class="alert alert-warning" role="alert">
          <p class="fw-bold">¡Advertencia!</p>
          <strong>Esta API NO ES OFICIAL y NO TIENE NINGUNA RELACIÓN con el gobierno de Campeche.</strong> Es un proyecto experimental en fase BETA, y está sujeto a errores imprevistos o a la información no precisa. Por lo tanto, el creador de esta API, Jose Manuel Castillo Queh, no se hace responsable de problemas gubernamentales ni de ningún otro inconveniente. ¡Uso bajo su propio riesgo!
        </div>

        <h2 class="section-title">Descripción del Proyecto</h2>
        <p>
          Ko'ox API es una solución innovadora y de código abierto desarrollada con **Flask** para gestionar las paradas de transporte público de la ciudad de Campeche. Esta API permite consultar y administrar las paradas y rutas de los autobuses de Ko'ox de forma sencilla y accesible, proporcionando datos como la ubicación de las paradas, las rutas asociadas y la posibilidad de encontrar la parada más cercana a una ubicación geográfica específica.
        </p>

        <h2 class="section-title">Contexto y Origen del Proyecto</h2>
        <p>
          Este proyecto nació como una propuesta para contribuir al bienestar y desarrollo de la comunidad de Campeche. Como usuario habitual del transporte público, me di cuenta de la problemática relacionada con las paradas de Ko'ox, así como la dispersión y falta de accesibilidad de la información en internet. 
        </p>
        <p>
          Fue entonces cuando decidí, <span class="fw-bold">Jose Manuel Castillo Queh</span>, de 20 años, emprender el desarrollo de una solución que pudiera ser aprovechada por la comunidad: una API que centralice la información sobre las paradas de Ko'ox. Este trabajo es el resultado de un esfuerzo de investigación, durante el cual logré recopilar datos dispersos y no expuestos de diversas fuentes disponibles en internet. La tarea no fue fácil, pero con dedicación y esfuerzo, creé una base de datos que sirve de apoyo para esta solución.
        </p>
        <p>
          El propósito principal de la <span class="fw-bold">Ko'ox API</span> es empoderar a la sociedad campechana, proporcionando un recurso accesible y confiable para consultar la información sobre las paradas y rutas del transporte público. Esta API busca que cualquier persona pueda beneficiarse de ella para facilitar su vida diaria al momento de usar el servicio de Ko'ox.
        </p>
        <p>
          Además, en el futuro cercano, estamos trabajando en el desarrollo de una aplicación móvil basada en esta API, que se podrá descargar de manera gratuita como un archivo APK, sin ningún riesgo ni costo. Esta aplicación permitirá a los usuarios acceder a la información de manera más cómoda y sencilla desde sus teléfonos, mejorando aún más la experiencia del usuario.
        </p>
        <p>
          Este proyecto tiene un fuerte componente social, ya que la finalidad es mejorar la calidad de vida de los habitantes de Campeche, fomentar el uso del transporte público y mantenerlos informados sobre las actualizaciones impulsadas por el gobierno de <span class="fw-bold">Layda Sansores San Román</span>, presidenta de Campeche.
        </p>
      </section>

      <section id="endpoints">
        <h2 class="section-title">Endpoints</h2>
        <div class="accordion" id="endpointsAccordion">
          <!-- GET /paradas -->
          <div class="accordion-item">
            <h2 class="accordion-header" id="headingOne">
              <button
                class="accordion-button"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#collapseOne"
                aria-expanded="true"
                aria-controls="collapseOne"
              >
                <span class="badge bg-primary me-2">GET</span>Obtener todas las paradas <code>/paradas</code>
              </button>
            </h2>
            <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#endpointsAccordion">
              <div class="accordion-body">
                <p>Devuelve la lista completa de paradas.</p>
                <pre><code>GET /paradas</code></pre>
                <p><strong>Respuesta exitosa:</strong></p>
                <pre><code>
{ "ok": true, 
  "code_http": 200, 
  "body": 
  [ 
    {
    "id": 1,
    "stop_name": "Alameda",
    "latitude": 19.841517,
    "longitude": -90.534564,
    "routes": [
        "Koox 01 Troncal Eje Principal",
        "Koox 27 Troncal Eje Central",
        "Koox 28 Troncal Eje Oriente",
        "Koox 29 Troncal Eje Norte"
      ]
    },
    {
    "id": 2,
    "stop_name": "Chihuahua",
    "latitude": 19.843134,
    "longitude": -90.530806,
    "routes": [
        "Koox 01 Troncal Eje Principal",
        "Koox 15 Jardines",
        "Koox 16 Polvorín - Paso de las Águilas",
        "Koox 18 San Francisco",
        "Koox 28 Troncal Eje Oriente",
        "Koox 29 Troncal Eje Norte"
      ]
    },
    ... (+568 paradas más)
  ] 
}
                </code></pre>
              </div>
            </div>
          </div>

          <!-- GET /paradas/<id> -->
          <div class="accordion-item">
            <h2 class="accordion-header" id="headingTwo">
              <button
                class="accordion-button collapsed"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#collapseTwo"
                aria-expanded="false"
                aria-controls="collapseTwo"
              >
                <span class="badge bg-primary me-2">GET</span>Obtener una parada específica <code>/paradas/&lt;id&gt;</code>
              </button>
            </h2>
            <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#endpointsAccordion">
              <div class="accordion-body">
                <p>Devuelve los detalles de una parada específica por su ID.</p>
                <pre><code>GET /paradas/9</code></pre>
                <p><strong>Respuesta exitosa:</strong></p>
                <pre><code>
{ 
  "ok": true, 
  "code_http": 200, 
  "body": {
    "id": 9,
    "stop_name": "Calle 105-A",
    "latitude": 19.842192,
    "longitude": -90.508463,
    "routes": [
    "Koox 01 Troncal Eje Principal",
    "Koox 06 Amp. Bellavista - Revolución Circ. 1",
    "Koox 08 Carmelo-Esperanza"
    ]
  }
}
                </code></pre>
              </div>
            </div>
          </div>

          <!-- GET /paradas/cercana -->
          <div class="accordion-item">
            <h2 class="accordion-header" id="headingThree">
              <button
                class="accordion-button collapsed"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#collapseThree"
                aria-expanded="false"
                aria-controls="collapseThree"
              >
                <span class="badge bg-primary me-2">GET</span>Encontrar la parada más cercana <code>/paradas/cercana</code>
              </button>
            </h2>
            <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#endpointsAccordion">
              <div class="accordion-body">
                <p>Encuentra la parada más cercana a una ubicación geográfica específica utilizando la fórmula Haversine.</p>
                <pre><code>GET /paradas/cercana?latitude=18.6470&longitude=-91.8240</code></pre>
                <p><strong>Respuesta exitosa:</strong></p>
                <pre><code>
{ 
  "ok": true, 
  "code_http": 200,  
  "body": {
    "id": 9,
    "stop_name": "Calle 105-A",
    "latitude": 19.842192,
    "longitude": -90.508463,
    "routes": [
      "Koox 01 Troncal Eje Principal",
      "Koox 06 Amp. Bellavista - Revolución Circ. 1",
      "Koox 08 Carmelo-Esperanza"
    ]
  }
}
                </code></pre>
              </div>
            </div>
          </div>

          <!-- GET /paradas/cercana/ruta -->
          <div class="accordion-item">
            <h2 class="accordion-header" id="headingFour">
              <button
                class="accordion-button collapsed"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#collapseFour"
                aria-expanded="false"
                aria-controls="collapseFour"
              >
                <span class="badge bg-primary me-2">GET</span>Encontrar la parada más cercana con ruta <code>/paradas/cercana/ruta</code>
              </button>
            </h2>
            <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#endpointsAccordion">
              <div class="accordion-body">
                <p>Encuentra la parada más cercana que tenga una ruta específica.</p>
                <pre><code>GET /paradas/cercana/ruta?latitude=18.6470&longitude=-91.8240&ruta=eje%20norte</code></pre>
                <p><strong>Respuesta exitosa:</strong></p>
                <pre><code>
{
  "body": {
    "id": 22,
    "latitude": 19.838979,
    "longitude": -90.538881,
    "routes": [
      "Koox 01 Troncal Eje Principal",
      "Koox 28 Troncal Eje Oriente",
      "Koox 29 Troncal Eje Norte"
    ],
    "stop_name": "Pedro Moreno"
  },
  "code_http": 200,
  "distance_km": 189.13,
  "num_stops_with_route": 59,
  "ok": true,
  "search_route": "eje norte"
}
                </code></pre>
              </div>
            </div>
          </div>

        </div>
      </section>

      <section id="notes">
        <h2 class="section-title">Notas Importantes</h2>
        <ul>
          <li>La API ahora permite encontrar la parada más cercana tanto con o sin especificar una ruta.</li>
          <li>La API busca paradas por nombre sin distinguir mayúsculas y minúsculas.</li>
          <li>Los datos se almacenan en memoria durante la ejecución del servidor, y no se persisten en el archivo JSON original.</li>
          <li>La distancia se calcula en kilómetros usando la fórmula de Haversine.</li>
          <li><strong>Importante:</strong> Este proyecto está en fase de desarrollo. Los datos pueden no ser 100% precisos y pueden estar sujetos a cambios. Actualmente, la API está en pruebas y se encuentra en constante evolución.</li>
        </ul>
      </section>

      <section id="contact">
        <h2 class="section-title">Sobre el Desarrollo</h2>
        <p>
          Este proyecto fue desarrollado por <strong>Jose Manuel Castillo Queh</strong>, de 20 años, como una aportación significativa para la sociedad de Campeche. A través de un trabajo de investigación profunda y dedicada sobre la problemática de las paradas de Ko'ox y su dispersión por internet, logré crear esta API, que ahora facilita el acceso a la información centralizada de las paradas y rutas del sistema de transporte público.
        </p>
        <p>
          La Ko'ox API fue desarrollada con el objetivo de proporcionar una solución accesible y útil para los campechanos, al mismo tiempo que fomenta el uso del transporte público y contribuye a la mejora de la movilidad en la ciudad. Además, estamos trabajando en una aplicación móvil que estará disponible en breve como un archivo APK, para que los usuarios puedan aprovechar aún más esta API desde sus dispositivos.
        </p>
        <p>
          Este proyecto fue inspirado por mi deseo personal de ayudar a la comunidad de Campeche a tener acceso a la información de manera rápida, sencilla y efectiva. Con el apoyo de este proyecto, espero que más personas puedan sumarse al impulso de la modernización y desarrollo de Campeche.
        </p>

        <p>
          Creador: <a href="https://github.com/CastilloDevX" target="_blank"><strong>Jose Manuel Castillo Queh</strong></a>
        </p>
      </section>
    </main>

    <!-- Footer -->
    <footer class="text-center">
      <div class="container">
        <a href="https://campeche.gob.mx/koox/" target="_blank">
          <img class="img-fluid w-50" src="https://campeche.gob.mx/wp-content/uploads/informes/Logo.png" alt="Logo Ko'ox" />
        </a>
        <p class="fw-bold mb-0">&copy; {{ year }} Ko'ox API. Todos los derechos reservados.</p>
      </div>
    </footer>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
